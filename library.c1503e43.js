function e(e,t,n,l){Object.defineProperty(e,t,{get:n,set:l,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},a={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in l)return l[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return l[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},n.parcelRequired7c6=i),i.register("kyEFX",(function(t,n){var l,a;e(t.exports,"register",(function(){return l}),(function(e){return l=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var i={};l=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},a=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("kyEFX").register(JSON.parse('{"1zJhX":"library.c1503e43.js","6Y9A4":"movie-time.93f8ca93.jpg","b9auz":"index.90bfe647.js"}')),i("i1OHb"),i("CNRfc");var o=i("CNRfc"),s=i("krGWQ"),r=i("i1OHb"),d=i("04jNI");var c,u={boolein:!1,booleinChange(e){this.boolein=e},get(){return this.boolein}},m=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,_=/^0o[0-7]+$/i,b=parseInt,v="object"==typeof n&&n&&n.Object===Object&&n,g="object"==typeof self&&self&&self.Object===Object&&self,h=v||g||Function("return this")(),y=Object.prototype.toString,L=Math.max,w=Math.min,E=function(){return h.Date.now()};function k(e,t,n){var l,a,i,o,s,r,d=0,c=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=l,i=a;return l=a=void 0,d=t,o=e.apply(i,n)}function p(e){return d=e,s=setTimeout(b,t),c?f(e):o}function _(e){var n=e-r;return void 0===r||n>=t||n<0||u&&e-d>=i}function b(){var e=E();if(_(e))return v(e);s=setTimeout(b,function(e){var n=t-(e-r);return u?w(n,i-(e-d)):n}(e))}function v(e){return s=void 0,m&&l?f(e):(l=a=void 0,o)}function g(){var e=E(),n=_(e);if(l=arguments,a=this,r=e,n){if(void 0===s)return p(r);if(u)return s=setTimeout(b,t),f(r)}return void 0===s&&(s=setTimeout(b,t)),o}return t=F(t)||0,$(n)&&(c=!!n.leading,i=(u="maxWait"in n)?L(F(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m),g.cancel=function(){void 0!==s&&clearTimeout(s),d=0,l=r=a=s=void 0},g.flush=function(){return void 0===s?o:v(E())},g}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function F(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}(e))return NaN;if($(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(m,"");var n=p.test(e);return n||_.test(e)?b(e.slice(2),n?2:8):f.test(e)?NaN:+e}c=function(e,t,n){var l=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return $(n)&&(l="leading"in n?!!n.leading:l,a="trailing"in n?!!n.trailing:a),k(e,t,{leading:l,maxWait:t,trailing:a})};const j=document.querySelector('[data-action="watched"]'),x=document.querySelector(".library-img-wrapper"),H={start:0,end:6,rendered(){this.start=this.end,this.end+=6},refresh(){this.start=0,this.end=6}};let T=[];j.addEventListener("click",(async function(){try{if(u.booleinChange(!1),s.default.mainList.innerHTML="",H.refresh(),(0,d.onSpinnerEnabled)(),T=await(0,r.load)("watched"),(0,d.onSpinnerDisabled)(),0===T.length)return void x.classList.remove("visually-hidden");x.classList.add("visually-hidden");const e=T.slice(H.start,H.end),t=(0,o.createMovieCardFromLocalStorage)(e);H.rendered(),s.default.mainList.insertAdjacentHTML("beforeend",t)}catch(e){console.log(e.message)}})),window.addEventListener("scroll",t(c)((()=>{if(u.get())return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;if(n+e>=t){const e=T.slice(H.start,H.end);H.rendered();const t=(0,o.createMovieCardFromLocalStorage)(e);s.default.mainList.insertAdjacentHTML("beforeend",t)}}),300));o=i("CNRfc"),s=i("krGWQ"),r=i("i1OHb"),d=i("04jNI");const O=document.querySelector('[data-action="queue"]'),S=document.querySelector(".library-img-wrapper"),R={start:0,end:6,rendered(){this.start=this.end,this.end+=6},refresh(){this.start=0,this.end=6}};let M=[];O.addEventListener("click",(async function(){try{if(u.booleinChange(!0),s.default.mainList.innerHTML="",R.refresh(),(0,d.onSpinnerEnabled)(),M=await(0,r.load)("queue"),(0,d.onSpinnerDisabled)(),0===M.length)return void S.classList.remove("visually-hidden");S.classList.add("visually-hidden");const e=M.slice(R.start,R.end),t=(0,o.createMovieCardFromLocalStorage)(e);R.rendered(),s.default.mainList.insertAdjacentHTML("beforeend",t)}catch(e){console.log(e.message)}})),window.addEventListener("scroll",t(c)((()=>{if(!u.get())return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;if(n+e>=t){const e=M.slice(R.start,R.end);R.rendered();const t=(0,o.createMovieCardFromLocalStorage)(e);s.default.mainList.insertAdjacentHTML("beforeend",t)}}),500));var C;s=i("krGWQ"),r=i("i1OHb");C=new URL(i("kyEFX").resolve("6Y9A4"),import.meta.url).toString();function q(e){"Escape"===e.key&&N()}function A(e){(e.target.classList.contains("modal-film__backdrop")||e.target.classList.contains("modal__btn-close")||e.target.classList.contains("modal__icon-close"))&&N()}function N(){s.default.backdropFilmRef.classList.add("is-hidden"),s.default.modalFilmInfoRef.classList.add("is-hidden"),s.default.body.classList.remove("no-scroll"),document.removeEventListener("click",A),document.removeEventListener("keydown",q)}s.default.mainList.addEventListener("click",(async function(e){try{const n=e.target.closest(".movieCard");if(!n)return;const l=n.getAttribute("data"),a=(await(0,r.load)("watched")).find((e=>e.id===Number(l)));a&&(s.default.backdropFilmRef.classList.remove("is-hidden"),s.default.modalFilmInfoRef.classList.remove("is-hidden"),s.default.body.classList.add("no-scroll"));const i=function({title:e,popularity:n,original_title:l,vote_average:a,genres:i,poster_path:o,overview:s,vote_count:r,id:d}){const c="https://image.tmdb.org/t/p/",u="w500",m=i.map((e=>e.name)).join(", ");return`<button class="modal__btn-close">\n     <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="14"\n        height="14"\n        fill="currentColor"\n        class="modal__icon-close"\n        viewBox="0 0 16 16"\n      >\n        <path\n          d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"\n        />\n      </svg>\n    </button>\n  <div class="modal-film__img">\n    <div class="modal-film__wrapper">\n    <img\n      src="${o?`${c}${u}${o}`:t(C)}"\n      alt="${e}"\n      class="modal-film__poster"\n      loading="lazy"\n    />\n    </div>\n\n  </div>\n  <div class="modal-film__description">\n  <h2 class="modal-film__title">${e}</h2>\n  <ul class="modal-film__table">\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Vote / Votes</p>\n      <p class="modal-film__table-value">\n        <span class="modal-film__table-vote">${a.toFixed(1)}</span\n        ><span class="modal-film__table-slash"> / </span\n        ><span class="modal-film__table-votes">${r}</span>\n      </p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Popularity</p>\n      <p class="modal-film__table-value popularity-value">${n}</p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Original Title</p>\n      <p class="modal-film__table-value">${l}</p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Genre</p>\n      <p class="modal-film__table-value">${m}</p>\n    </li>\n  </ul>\n  <h3 class="modal-film__about">About</h3>\n  <p class="modal-film__abot-text">${s}\n  </p>\n  <ul class="modal-film__container-btn">\n    <li>\n\n      <button class="modal-btn modal-film_btn-watched" type="button">add to watched</button>\n    </li>\n    <li>\n      <button class="modal-btn modal-film_btn-queue" type="button">add to queue</button>\n\n    </li>\n  </ul>\n  </div>`}(a);s.default.modalFilmInfoRef.innerHTML=i,document.addEventListener("keydown",q),document.addEventListener("click",A)}catch(e){console.log(e.message)}}));s=i("krGWQ"),r=i("i1OHb");function I(e){"Escape"===e.key&&G()}function W(e){(e.target.classList.contains("modal-film__backdrop")||e.target.classList.contains("modal__btn-close")||e.target.classList.contains("modal__icon-close"))&&G()}function G(){s.default.backdropFilmRef.classList.add("is-hidden"),s.default.modalFilmInfoRef.classList.add("is-hidden"),s.default.body.classList.remove("no-scroll"),document.removeEventListener("click",W),document.removeEventListener("keydown",I)}s.default.mainList.addEventListener("click",(async function(e){try{const n=e.target.closest(".movieCard");if(!n)return;const l=n.getAttribute("data"),a=(await(0,r.load)("queue")).find((e=>e.id===Number(l)));a&&(s.default.backdropFilmRef.classList.remove("is-hidden"),s.default.modalFilmInfoRef.classList.remove("is-hidden"),s.default.body.classList.add("no-scroll"));const i=function({title:e,popularity:n,original_title:l,vote_average:a,genres:i,poster_path:o,overview:s,vote_count:r,id:d}){const c="https://image.tmdb.org/t/p/",u="w500",m=i.map((e=>e.name)).join(", ");return`<button class="modal__btn-close">\n     <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="14"\n        height="14"\n        fill="currentColor"\n        class="modal__icon-close"\n        viewBox="0 0 16 16"\n      >\n        <path\n          d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"\n        />\n      </svg>\n    </button>\n  <div class="modal-film__img">\n    <div class="modal-film__wrapper">\n    <img\n      src="${o?`${c}${u}${o}`:t(C)}"\n      alt="${e}"\n      class="modal-film__poster"\n      loading="lazy"\n    />\n    </div>\n   \n  </div>\n  <div class="modal-film__description">\n  <h2 class="modal-film__title">${e}</h2>\n  <ul class="modal-film__table">\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Vote / Votes</p>\n      <p class="modal-film__table-value">\n        <span class="modal-film__table-vote">${a.toFixed(1)}</span\n        ><span class="modal-film__table-slash"> / </span\n        ><span class="modal-film__table-votes">${r}</span>\n      </p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Popularity</p>\n      <p class="modal-film__table-value popularity-value">${n}</p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Original Title</p>\n      <p class="modal-film__table-value">${l}</p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Genre</p>\n      <p class="modal-film__table-value">${m}</p>\n    </li>\n  </ul>\n  <h3 class="modal-film__about">About</h3>\n  <p class="modal-film__abot-text">${s}\n  </p>\n  <ul class="modal-film__container-btn">\n    <li>\n\n      <button class="modal-btn modal-film_btn-watched" type="button">add to watched</button>\n    </li>\n    <li>\n      <button class="modal-btn modal-film_btn-queue" type="button">add to queue</button>\n\n    </li>\n  </ul>\n  </div>`}(a);s.default.modalFilmInfoRef.innerHTML=i,document.addEventListener("keydown",I),document.addEventListener("click",W)}catch(e){console.log(e.message)}})),i("krGWQ"),i("4S0r6"),i("74Aiq");
//# sourceMappingURL=library.c1503e43.js.map
