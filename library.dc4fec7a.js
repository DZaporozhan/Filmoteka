!function(){function e(e,t,n,l){Object.defineProperty(e,t,{get:n,set:l,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},a={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in l)return l[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return l[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},n.parcelRequired7c6=i),i.register("iE7OH",(function(t,n){var l,a;e(t.exports,"register",(function(){return l}),(function(e){return l=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var i={};l=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},a=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("aNJCr",(function(t,n){var l;e(t.exports,"getBundleURL",(function(){return l}),(function(e){return l=e}));var a={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}l=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),a[e]=t),t}})),i("iE7OH").register(JSON.parse('{"2Y0K8":"library.dc4fec7a.js","4ZHSQ":"movie-time.93f8ca93.jpg","2hvCh":"index.f53a6082.js"}')),i("fctGW"),i("4dtR7");var o=i("4dtR7"),s=i("4Nugj"),r=i("fctGW"),d=i("j1lrD");var c,u={boolein:!1,booleinChange(e){this.boolein=e},get(){return this.boolein}},m="Expected a function",f=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,b=/^0o[0-7]+$/i,v=parseInt,g="object"==typeof n&&n&&n.Object===Object&&n,h="object"==typeof self&&self&&self.Object===Object&&self,L=g||h||Function("return this")(),y=Object.prototype.toString,w=Math.max,E=Math.min,j=function(){return L.Date.now()};function $(e,t,n){var l,a,i,o,s,r,d=0,c=!1,u=!1,f=!0;if("function"!=typeof e)throw new TypeError(m);function p(t){var n=l,i=a;return l=a=void 0,d=t,o=e.apply(i,n)}function _(e){return d=e,s=setTimeout(v,t),c?p(e):o}function b(e){var n=e-r;return void 0===r||n>=t||n<0||u&&e-d>=i}function v(){var e=j();if(b(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-r);return u?E(n,i-(e-d)):n}(e))}function g(e){return s=void 0,f&&l?p(e):(l=a=void 0,o)}function h(){var e=j(),n=b(e);if(l=arguments,a=this,r=e,n){if(void 0===s)return _(r);if(u)return s=setTimeout(v,t),p(r)}return void 0===s&&(s=setTimeout(v,t)),o}return t=k(t)||0,x(n)&&(c=!!n.leading,i=(u="maxWait"in n)?w(k(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),h.cancel=function(){void 0!==s&&clearTimeout(s),d=0,l=r=a=s=void 0},h.flush=function(){return void 0===s?o:g(j())},h}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function k(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}(e))return NaN;if(x(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=x(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var n=_.test(e);return n||b.test(e)?v(e.slice(2),n?2:8):p.test(e)?NaN:+e}c=function(e,t,n){var l=!0,a=!0;if("function"!=typeof e)throw new TypeError(m);return x(n)&&(l="leading"in n?!!n.leading:l,a="trailing"in n?!!n.trailing:a),$(e,t,{leading:l,maxWait:t,trailing:a})};const H=document.querySelector('[data-action="watched"]'),T=document.querySelector(".library-img-wrapper"),F={start:0,end:6,rendered(){this.start=this.end,this.end+=6},refresh(){this.start=0,this.end=6}};let R=[];H.addEventListener("click",(async function(){try{if(u.booleinChange(!1),s.default.mainList.innerHTML="",F.refresh(),(0,d.onSpinnerEnabled)(),R=await(0,r.load)("watched"),(0,d.onSpinnerDisabled)(),0===R.length)return void T.classList.remove("visually-hidden");T.classList.add("visually-hidden");const e=R.slice(F.start,F.end),t=(0,o.createMovieCardFromLocalStorage)(e);F.rendered(),s.default.mainList.insertAdjacentHTML("beforeend",t)}catch(e){console.log(e.message)}})),window.addEventListener("scroll",t(c)((()=>{if(u.get())return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;if(n+e>=t){const e=R.slice(F.start,F.end);F.rendered();const t=(0,o.createMovieCardFromLocalStorage)(e);s.default.mainList.insertAdjacentHTML("beforeend",t)}}),300));o=i("4dtR7"),s=i("4Nugj"),r=i("fctGW"),d=i("j1lrD");const S=document.querySelector('[data-action="queue"]'),M=document.querySelector(".library-img-wrapper"),O={start:0,end:6,rendered(){this.start=this.end,this.end+=6},refresh(){this.start=0,this.end=6}};let C=[];S.addEventListener("click",(async function(){try{if(u.booleinChange(!0),s.default.mainList.innerHTML="",O.refresh(),(0,d.onSpinnerEnabled)(),C=await(0,r.load)("queue"),(0,d.onSpinnerDisabled)(),0===C.length)return void M.classList.remove("visually-hidden");M.classList.add("visually-hidden");const e=C.slice(O.start,O.end),t=(0,o.createMovieCardFromLocalStorage)(e);O.rendered(),s.default.mainList.insertAdjacentHTML("beforeend",t)}catch(e){console.log(e.message)}})),S.click(),window.addEventListener("scroll",t(c)((()=>{if(!u.get())return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;if(n+e>=t){const e=C.slice(O.start,O.end);O.rendered();const t=(0,o.createMovieCardFromLocalStorage)(e);s.default.mainList.insertAdjacentHTML("beforeend",t)}}),500));var N;s=i("4Nugj"),r=i("fctGW");N=i("aNJCr").getBundleURL("2Y0K8")+i("iE7OH").resolve("4ZHSQ");function q(e){"Escape"===e.key&&W()}function A(e){(e.target.classList.contains("modal-film__backdrop")||e.target.classList.contains("modal__btn-close")||e.target.classList.contains("modal__icon-close"))&&W()}function W(){s.default.backdropFilmRef.classList.add("is-hidden"),s.default.modalFilmInfoRef.classList.add("is-hidden"),s.default.body.classList.remove("no-scroll"),document.removeEventListener("click",A),document.removeEventListener("keydown",q)}s.default.mainList.addEventListener("click",(async function(e){try{const n=e.target.closest(".movieCard");if(!n)return;const l=n.getAttribute("data"),a=(await(0,r.load)("watched")).find((e=>e.id===Number(l)));a&&(s.default.backdropFilmRef.classList.remove("is-hidden"),s.default.modalFilmInfoRef.classList.remove("is-hidden"),s.default.body.classList.add("no-scroll"));const i=function({title:e,popularity:n,original_title:l,vote_average:a,genres:i,poster_path:o,overview:s,vote_count:r,id:d}){const c="https://image.tmdb.org/t/p/",u="w500",m=i.map((e=>e.name)).join(", ");return`<button class="modal__btn-close">\n     <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="14"\n        height="14"\n        fill="currentColor"\n        class="modal__icon-close"\n        viewBox="0 0 16 16"\n      >\n        <path\n          d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"\n        />\n      </svg>\n    </button>\n  <div class="modal-film__img">\n    <div class="modal-film__wrapper">\n    <img\n      src="${o?`${c}${u}${o}`:t(N)}"\n      alt="${e}"\n      class="modal-film__poster"\n      loading="lazy"\n    />\n    </div>\n\n  </div>\n  <div class="modal-film__description">\n  <h2 class="modal-film__title">${e}</h2>\n  <ul class="modal-film__table">\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Vote / Votes</p>\n      <p class="modal-film__table-value">\n        <span class="modal-film__table-vote">${a.toFixed(1)}</span\n        ><span class="modal-film__table-slash"> / </span\n        ><span class="modal-film__table-votes">${r}</span>\n      </p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Popularity</p>\n      <p class="modal-film__table-value popularity-value">${n}</p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Original Title</p>\n      <p class="modal-film__table-value">${l}</p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Genre</p>\n      <p class="modal-film__table-value">${m}</p>\n    </li>\n  </ul>\n  <h3 class="modal-film__about">About</h3>\n  <p class="modal-film__abot-text">${s}\n  </p>\n  <ul class="modal-film__container-btn">\n    <li>\n\n      <button class="modal-btn modal-film_btn-watched" type="button">add to watched</button>\n    </li>\n    <li>\n      <button class="modal-btn modal-film_btn-queue" type="button">add to queue</button>\n\n    </li>\n  </ul>\n  </div>`}(a);s.default.modalFilmInfoRef.innerHTML=i,document.addEventListener("keydown",q),document.addEventListener("click",A)}catch(e){console.log(e.message)}}));s=i("4Nugj"),r=i("fctGW");function D(e){"Escape"===e.key&&I()}function G(e){(e.target.classList.contains("modal-film__backdrop")||e.target.classList.contains("modal__btn-close")||e.target.classList.contains("modal__icon-close"))&&I()}function I(){s.default.backdropFilmRef.classList.add("is-hidden"),s.default.modalFilmInfoRef.classList.add("is-hidden"),s.default.body.classList.remove("no-scroll"),document.removeEventListener("click",G),document.removeEventListener("keydown",D)}s.default.mainList.addEventListener("click",(async function(e){try{const n=e.target.closest(".movieCard");if(!n)return;const l=n.getAttribute("data"),a=(await(0,r.load)("queue")).find((e=>e.id===Number(l)));a&&(s.default.backdropFilmRef.classList.remove("is-hidden"),s.default.modalFilmInfoRef.classList.remove("is-hidden"),s.default.body.classList.add("no-scroll"));const i=function({title:e,popularity:n,original_title:l,vote_average:a,genres:i,poster_path:o,overview:s,vote_count:r,id:d}){const c="https://image.tmdb.org/t/p/",u="w500",m=i.map((e=>e.name)).join(", ");return`<button class="modal__btn-close">\n     <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="14"\n        height="14"\n        fill="currentColor"\n        class="modal__icon-close"\n        viewBox="0 0 16 16"\n      >\n        <path\n          d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"\n        />\n      </svg>\n    </button>\n  <div class="modal-film__img">\n    <div class="modal-film__wrapper">\n    <img\n      src="${o?`${c}${u}${o}`:t(N)}"\n      alt="${e}"\n      class="modal-film__poster"\n      loading="lazy"\n    />\n    </div>\n   \n  </div>\n  <div class="modal-film__description">\n  <h2 class="modal-film__title">${e}</h2>\n  <ul class="modal-film__table">\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Vote / Votes</p>\n      <p class="modal-film__table-value">\n        <span class="modal-film__table-vote">${a.toFixed(1)}</span\n        ><span class="modal-film__table-slash"> / </span\n        ><span class="modal-film__table-votes">${r}</span>\n      </p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Popularity</p>\n      <p class="modal-film__table-value popularity-value">${n}</p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Original Title</p>\n      <p class="modal-film__table-value">${l}</p>\n    </li>\n    <li class="modal-film__table-row">\n      <p class="modal-film__table-description">Genre</p>\n      <p class="modal-film__table-value">${m}</p>\n    </li>\n  </ul>\n  <h3 class="modal-film__about">About</h3>\n  <p class="modal-film__abot-text">${s}\n  </p>\n  <ul class="modal-film__container-btn">\n    <li>\n\n      <button class="modal-btn modal-film_btn-watched" type="button">add to watched</button>\n    </li>\n    <li>\n      <button class="modal-btn modal-film_btn-queue" type="button">add to queue</button>\n\n    </li>\n  </ul>\n  </div>`}(a);s.default.modalFilmInfoRef.innerHTML=i,document.addEventListener("keydown",D),document.addEventListener("click",G)}catch(e){console.log(e.message)}})),i("gXLk6"),i("4Nugj"),i("9VC5X"),i("23Ajj")}();
//# sourceMappingURL=library.dc4fec7a.js.map
